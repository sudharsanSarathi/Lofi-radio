<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Infinity Grid</title>
  <style>
    body {
      min-height: 100vh;
      background: radial-gradient(ellipse at 50% 0%, #2e026d 0%, #181818 80%);
      color: #fff;
      font-family: 'Inter', 'Segoe UI', Arial, sans-serif;
      margin: 0;
      padding: 20px;
      box-sizing: border-box;
      transition: background 0.3s;
    }
    .title-svg {
      display: block;
      margin: 20px auto 0 auto;
      width: auto;
      scale: 1.3;

      max-width: 90vw;
      text-align: -webkit-center;
      object-fit: contain;
     

    }
    .description {
      color: #d1d5db;
      margin: 18px auto 18px auto;
      font-size: 0.98rem;
      text-align: center;
      max-width: 480px;
      line-height: 1.5;
    }
    .see-how-btn {
      display: block;
      margin: 0 auto 32px auto;
      background: linear-gradient(90deg, #7D24FF 0%, #2e026d 100%);
      color: #fff;
      border: none;
      border-radius: 10px;
      padding: 12px 28px;
      font-size: 14px;
      font-weight: 700;
      cursor: pointer;
      box-shadow: 0 2px 12px #7D24FF33;
      letter-spacing: 0.01em;
      transition: background 0.2s, color 0.2s;
    }
    .see-how-btn:hover {
      background: linear-gradient(90deg, #a855f7 0%, #7D24FF 100%);
      color: #fff;
    }
    .container {
      background: rgba(30, 30, 40, 0.95);
      border-radius: 24px;
      box-shadow: 0 8px 40px #000a, 0 1.5px 0 #c084fc44 inset;
      padding: 40px 28px 28px 28px;
      max-width: 500px;
      margin: 0 auto 0 auto;
      position: relative;
      backdrop-filter: blur(2px);
      border: 1.5px solid #3b0764;
    }
    .tip {
      color: #b3b3b3;
      font-size: 0.93rem;
      margin: 2px 0 18px 0;
      text-align: left;
      max-width: 420px;
    }
    .tip .learn-how {
      color: #60a5fa;
      text-decoration: underline;
      cursor: pointer;
      font-weight: 600;
      margin-left: 2px;
      transition: color 0.2s;
    }
    .tip .learn-how:hover {
      color: #c084fc;
    }
    label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: #f3e8ff;
      letter-spacing: 0.01em;
    }
    .input-row {
      display: flex;
      gap: 20px;
      margin-bottom: 8px;
    }
    .input-row input[type="text"] {
      flex: 1;
      background: #181825;
      border: 1.5px solid #333;
      color: #fff;
      border-radius: 10px;
      padding: 10px 14px;
      font-size: 1.05rem;
      outline: none;
      transition: border 0.2s;
      box-shadow: 0 1px 4px #0002;
    }
    .input-row input[type="text"]:focus {
      border: 1.5px solid #c084fc;
    }
    .add-btn {
      background: linear-gradient(90deg, #c084fc 0%, #60a5fa 100%);
      color: #fff;
      border: none;
      border-radius: 10px;
      padding: 0 18px;
      font-size: 1.2rem;
      font-weight: 700;
      cursor: pointer;
      transition: background 0.2s, color 0.2s, box-shadow 0.2s;
      box-shadow: 0 2px 8px #c084fc33;
    }
    .add-btn:hover {
      background: linear-gradient(90deg, #a855f7 0%, #38bdf8 100%);
      color: #fff;
    }
    .url-list {
      margin-bottom: 16px;
    display: flex;
    flex-direction: row;
    gap: 6px;
    flex-wrap: wrap;

    }
    .url-chip {
      display: flex;
      align-items: center;
      background: #2a2a54;
      color: #9590e7;
      border-radius: 10px;
      padding: 7px 12px 7px 12px;
      font-size: 1rem;
      gap: 8px;
      width: fit-content;
      max-width: 100%;
      overflow: hidden;
      position: relative;
      box-shadow: 0 1px 4px #0002;
    }
    .url-chip span {
      display: inline-block;
      max-width: calc(100vw - 120px);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      vertical-align: middle;
    }
    .remove-btn {
      background: none;
      border: none;
      color: #ffffff;
      font-size: 1.2rem;
      cursor: pointer;
      margin-left: 8px;
      font-weight: 900;
      transition: color 0.2s;
      padding: 0 4px;
    }
    .remove-btn:hover {
      color: #ff6b81;
    }
    .color-row {
      display: flex;
      align-items: center;
      gap: 4px;
      margin-bottom: 18px;
    }
    .color-row input[type="color"] {
      width: 38px;
      height: 38px;
      border: none;
      border-radius: 10px;
      background: none;
      cursor: pointer;
      box-shadow: 0 1px 4px #0002;
    }
    .color-row input[type="text"] {
      width: 110px;
      background: #181825;
      border: 1.5px solid #333;
      color: #fff;
      border-radius: 10px;
      padding: 10px 14px;
      font-size: 1.05rem;
      outline: none;
      box-shadow: 0 1px 4px #0002;
    }
    .color-row input[type="text"]:focus {
      border: 1.5px solid #c084fc;
    }
    .input-group {
      margin-bottom: 28px;
    }
    .generate-btn, .copy-btn {
      width: 100%;
      background: linear-gradient(90deg, #c084fc 0%, #60a5fa 100%);
      color: #fff;
      border: none;
      border-radius: 12px;
      padding: 16px 0;
      font-size: 1.15rem;
      font-weight: 700;
      cursor: pointer;
      margin-top: 8px;
      margin-bottom: 16px;
      transition: background 0.2s, box-shadow 0.2s;
      box-shadow: 0 2px 12px #c084fc33;
      letter-spacing: 0.01em;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }
    .generate-btn:hover, .copy-btn:hover {
      background: linear-gradient(90deg, #a855f7 0%, #38bdf8 100%);
    }
    .copy-btn.copied {
      background: linear-gradient(90deg, #22c55e 0%, #16a34a 100%);
      color: #fff;
    }
    .copy-btn .tick {
      font-size: 1.2em;
      color: #22c55e;
      margin-left: 4px;
    }
    .iframe-code-block {
      background: #181825;
      color: #c084fc;
      border-radius: 10px;
      padding: 18px;
      font-size: 1.01rem;
      margin-bottom: 12px;
      word-break: break-all;
      border: 1.5px solid #4f46e5;
      font-family: 'JetBrains Mono', 'Fira Mono', 'Menlo', monospace;
      box-shadow: 0 1px 4px #0002;
    }
    .iframe-preview {
      width: 100%;
      min-height: 120px;
      border: 1.5px solid #4f46e5;
      border-radius: 10px;
      margin-bottom: 18px;
      background: #111;
      box-shadow: 0 1px 4px #0002;
      overflow: hidden;
      display: block;
    }
    .toast {
      position: fixed;
      left: 50%;
      bottom: 40px;
      transform: translateX(-50%);
      background: linear-gradient(90deg, #c084fc 0%, #60a5fa 100%);
      color: #fff;
      padding: 14px 32px;
      border-radius: 12px;
      font-size: 1.08rem;
      font-weight: 600;
      box-shadow: 0 2px 12px #c084fc33;
      opacity: 0;
      pointer-events: none;
      z-index: 9999;
      transition: opacity 0.3s, bottom 0.3s;
    }
    .toast.show {
      opacity: 1;
      bottom: 70px;
      pointer-events: auto;
    }
    .footer {
      text-align: center;
      margin-top: 24px;
      font-size: 12px;
      letter-spacing: 0.01em;
      opacity: 0.95;
    }
    .footer a {
      color: #fff;
      text-decoration: none;
      font-weight: 700;
      padding: 10px 24px;
      border-radius: 12px;
      transition: background 0.2s, color 0.2s;
      display: inline-block;
      box-shadow: 0 2px 12px #7D24FF33;
    }
    .footer a:hover {
      background: #7D24FF;
      color: #fff;
      text-decoration: underline;
    }
    /* Overlay styles */
    .overlay {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(24, 18, 34, 0.92);
      z-index: 10000;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: opacity 0.2s;
      opacity: 0;
      pointer-events: none;
    }
    .overlay.show {
      opacity: 1;
      pointer-events: auto;
    }
    .overlay-content {
      background: #232232;
      border-radius: 18px;
      box-shadow: 0 8px 40px #000a, 0 1.5px 0 #c084fc44 inset;
      padding: 32px 24px 24px 24px;
      max-width: 480px;
      width: 96vw;
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .close-btn {
      position: absolute;
      left: 50%;
      top: -38px;
      transform: translateX(-50%);
      background: #c084fc;
      color: #fff;
      border: none;
      border-radius: 50%;
      width: 36px;
      height: 36px;
      font-size: 1.3rem;
      font-weight: 700;
      cursor: pointer;
      box-shadow: 0 2px 8px #c084fc33;
      transition: background 0.2s, color 0.2s;
      z-index: 2;
      padding: 0;
      margin-bottom: 24px;
    }
    .close-btn:hover {
      background: #a855f7;
      color: #fff;
    }
    .overlay-title {
      color: #fff;
      font-size: 1.2rem;
      font-weight: 700;
      margin-bottom: 18px;
      text-align: center;
    }
    .vimeo-player {
      width: 100%;
      max-width: 400px;
      aspect-ratio: 16/9;
      border-radius: 12px;
      border: none;
      box-shadow: 0 2px 12px #0004;
      margin-bottom: 8px;
    }
    @media (max-width: 600px) {
      .title-svg {
        height: 70px;
      }
      .container {
        max-width: 98vw;
        padding: 18px 4vw 18px 4vw;
      }
      .url-chip span {
        max-width: 70vw;
      }
      .overlay-content {
        max-width: 98vw;
        padding: 12px 2vw 12px 2vw;
      }
      .vimeo-player {
        max-width: 90vw;
      }
      .close-btn {
        top: -28px;
        width: 32px;
        height: 32px;
        font-size: 1.1rem;
      }
    }
    .infinity-grid-container {
      width: 100%;
      height: 320px;
      margin: 18px 0 18px 0;
      background: #181825;
      border-radius: 16px;
      overflow: auto;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      grid-auto-rows: 120px;
      gap: 18px;
      cursor: grab;
      position: relative;
      box-shadow: 0 2px 12px #0002;
      transition: box-shadow 0.2s;
    }
    .infinity-grid-container:active {
      cursor: grabbing;
    }
    .infinity-grid-item {
      background: #232232;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      transition: transform 0.25s cubic-bezier(.4,2,.6,1), box-shadow 0.2s;
      box-shadow: 0 2px 8px #0003;
      position: relative;
      z-index: 1;
    }
    .infinity-grid-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 12px;
      pointer-events: none;
      user-select: none;
    }
    .infinity-grid-container.scaling .infinity-grid-item:not(.focused) {
      transform: scale(0.8);
      z-index: 1;
      filter: blur(0.5px) brightness(0.95);
    }
    .infinity-grid-item.focused {
      transform: scale(1.0);
      z-index: 2;
      box-shadow: 0 4px 24px #7D24FF55;
      filter: none;
    }
  </style>
</head>
<body>
  <div class="title-svg">
    <svg width="322" height="62" viewBox="0 0 322 62" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M149.074 0C154.597 2.41411e-07 159.074 4.47715 159.074 10V46.5938C159.074 52.1166 154.597 56.5938 149.074 56.5938H112.48C106.958 56.5936 102.48 52.1165 102.48 46.5938V10C102.48 4.47727 106.958 0.000193549 112.48 0H149.074ZM208.594 0C214.117 3.27453e-05 218.594 4.47717 218.594 10V46.5938C218.594 52.1166 214.117 56.5937 208.594 56.5938H172C166.477 56.5938 162 52.1166 162 46.5938V10C162 4.47715 166.477 2.41411e-07 172 0H208.594ZM91.4805 3C95.8987 3 99.4805 6.58172 99.4805 11V45C99.4805 49.4183 95.8987 53 91.4805 53H57.4805C53.0624 52.9998 49.4805 49.4182 49.4805 45V11C49.4805 6.58185 53.0624 3.0002 57.4805 3H91.4805ZM263.594 3C268.012 3.00003 271.594 6.58174 271.594 11V45C271.594 49.4183 268.012 53 263.594 53H229.594C225.175 53 221.594 49.4183 221.594 45V11C221.594 6.58172 225.175 3 229.594 3H263.594ZM39.4805 5C43.3465 5 46.4805 8.13401 46.4805 12V44C46.4805 47.866 43.3465 51 39.4805 51H7.48047C3.61464 50.9998 0.480469 47.8659 0.480469 44V12C0.48047 8.13413 3.61465 5.0002 7.48047 5H39.4805ZM313.594 5C317.46 5.00003 321.594 8.13403 321.594 12V44C321.594 47.866 317.46 51 313.594 51H281.594C277.728 51 274.594 47.866 274.594 44V12C274.594 8.13401 277.728 5 281.594 5H313.594Z" fill="url(#paint0_radial_8_21)"/>
      <g filter="url(#filter0_f_8_21)">
      <path d="M64.1737 43.5V20.0684H70.8684V43.5H64.1737ZM91.7495 43.5H85.3895V35.1316C85.3895 32.7884 84.2848 32.1189 82.8789 32.1189C81.473 32.1189 80.5693 32.7884 80.5693 35.1316V43.5H74.2093V26.7632H80.5693V29.3741C81.473 27.2653 83.0463 26.2611 85.1551 26.2611C89.4063 26.2611 91.7495 27.4661 91.7495 34.1274V43.5ZM106.888 18.7295V24.5539C105.449 24.2861 104.846 24.2526 104.478 24.2526C103.407 24.2526 102.804 24.6543 102.804 26.5288V26.7632H115.022V43.5H108.662V32.4537H102.804V43.5H96.4444V32.4537H93.4318V26.7632H96.4444V25.9598C96.4444 20.7044 99.3566 18.3947 103.608 18.3947C104.311 18.3947 105.415 18.4952 106.888 18.7295ZM108.16 21.876C108.16 19.5328 109.633 18.5286 111.842 18.5286C114.052 18.5286 115.524 19.5328 115.524 21.876C115.524 24.2192 114.052 25.2234 111.842 25.2234C109.633 25.2234 108.16 24.2192 108.16 21.876ZM135.912 43.5H129.552V35.1316C129.552 32.7884 128.448 32.1189 127.042 32.1189C125.636 32.1189 124.732 32.7884 124.732 35.1316V43.5H118.372V26.7632H124.732V29.3741C125.636 27.2653 127.209 26.2611 129.318 26.2611C133.569 26.2611 135.912 27.4661 135.912 34.1274V43.5ZM138.432 21.876C138.432 19.5328 139.904 18.5286 142.114 18.5286C144.323 18.5286 145.796 19.5328 145.796 21.876C145.796 24.2192 144.323 25.2234 142.114 25.2234C139.904 25.2234 138.432 24.2192 138.432 21.876ZM138.934 43.5V26.7632H145.294V43.5H138.934ZM150.316 36.4371V32.4537H147.303V26.7632H150.316L153.329 20.0684H156.676V26.7632H163.203V32.4537H156.676V35.868C156.676 37.7425 157.413 38.1442 158.718 38.1442C159.321 38.1442 160.425 38.1107 163.237 37.4413V43.2992C160.827 43.8347 159.019 44.0021 157.982 44.0021C153.429 44.0021 150.316 41.6924 150.316 36.4371ZM169.659 43.5L163.902 26.7632H170.63L174.412 37.776L177.86 26.7632H184.522L179.3 43.5C177.492 49.2575 174.814 51.8684 170.965 51.8684C169.592 51.8684 168.655 51.6341 167.149 51.1655V45.3076C168.287 45.7427 169.191 46.0105 169.894 46.0105C170.764 46.0105 171.768 45.4415 172.571 43.5H169.659ZM206.881 37.8095C207.35 37.8095 207.785 37.8095 208.254 37.776V30.8135H214.948V42.7301C212.07 43.7343 209.258 44.0021 206.379 44.0021C198.379 44.0021 194.228 40.32 194.228 31.7842C194.228 23.2484 198.379 19.5663 206.011 19.5663C209.258 19.5663 211.4 19.8341 214.279 20.8383V27.0309C211.367 26.0937 209.291 25.7589 206.848 25.7589C202.965 25.7589 201.09 27.2653 201.09 31.7842C201.09 36.3032 203.467 37.8095 206.881 37.8095ZM224.336 43.5H217.976V26.7632H224.336V29.3406C225.273 27.1983 226.813 26.2276 228.755 26.2276C230.227 26.2276 231.433 26.7632 232.972 27.6V33.4579C230.83 32.5541 229.324 32.1524 227.683 32.1524C226.244 32.1524 224.336 32.688 224.336 35.1316V43.5ZM234.799 21.876C234.799 19.5328 236.272 18.5286 238.481 18.5286C240.691 18.5286 242.163 19.5328 242.163 21.876C242.163 24.2192 240.691 25.2234 238.481 25.2234C236.272 25.2234 234.799 24.2192 234.799 21.876ZM235.301 43.5V26.7632H241.661V43.5H235.301ZM255.889 43.5V40.8891C254.952 43.0648 253.345 44.0021 251.102 44.0021C246.751 44.0021 244.341 41.4581 244.341 35.1316C244.341 28.8051 246.751 26.2611 251.102 26.2611C253.345 26.2611 254.952 27.1983 255.889 29.3741V18.3947H262.249V43.5H255.889ZM250.868 35.1316C250.868 37.4747 251.872 38.1442 253.378 38.1442C254.885 38.1442 255.889 37.4747 255.889 35.1316C255.889 32.7884 254.885 32.1189 253.378 32.1189C251.872 32.1189 250.868 32.7884 250.868 35.1316Z" fill="#463459"/>
      </g>
      <path d="M75.4842 42V21.221H81.421V42H75.4842Z" fill="white"/>
      <path d="M99.9382 42H94.2982V34.5789C94.2982 32.501 93.3186 31.9073 92.0719 31.9073C90.8251 31.9073 90.0237 32.501 90.0237 34.5789V42H84.3837V27.1579H90.0237V29.4732C90.8251 27.6031 92.2203 26.7126 94.0904 26.7126C97.8603 26.7126 99.9382 27.7812 99.9382 33.6884V42Z" fill="white"/>
      <path d="M113.363 20.0337V25.1987C112.087 24.9612 111.552 24.9316 111.226 24.9316C110.276 24.9316 109.742 25.2878 109.742 26.9501V27.1579H120.576V42H114.936V32.2042H109.742V42H104.102V32.2042H101.43V27.1579H104.102V26.4454C104.102 21.785 106.684 19.7368 110.454 19.7368C111.077 19.7368 112.057 19.8259 113.363 20.0337ZM114.491 22.824C114.491 20.7461 115.797 19.8556 117.756 19.8556C119.716 19.8556 121.022 20.7461 121.022 22.824C121.022 24.9019 119.716 25.7924 117.756 25.7924C115.797 25.7924 114.491 24.9019 114.491 22.824Z" fill="white"/>
      <path d="M139.102 42H133.462V34.5789C133.462 32.501 132.482 31.9073 131.235 31.9073C129.989 31.9073 129.187 32.501 129.187 34.5789V42H123.547V27.1579H129.187V29.4732C129.989 27.6031 131.384 26.7126 133.254 26.7126C137.024 26.7126 139.102 27.7812 139.102 33.6884V42Z" fill="white"/>
      <path d="M141.336 22.824C141.336 20.7461 142.642 19.8556 144.601 19.8556C146.56 19.8556 147.866 20.7461 147.866 22.824C147.866 24.9019 146.56 25.7924 144.601 25.7924C142.642 25.7924 141.336 24.9019 141.336 22.824ZM141.781 42V27.1579H147.421V42H141.781Z" fill="white"/>
      <path d="M151.875 35.7366V32.2042H149.203V27.1579H151.875L154.546 21.221H157.515V27.1579H163.303V32.2042H157.515V35.232C157.515 36.8943 158.168 37.2505 159.325 37.2505C159.86 37.2505 160.839 37.2208 163.333 36.6271V41.8219C161.196 42.2968 159.593 42.4452 158.672 42.4452C154.635 42.4452 151.875 40.397 151.875 35.7366Z" fill="white"/>
      <path d="M169.028 42L163.922 27.1579H170.63L174.412 37.776L177.86 26.7632H184.522L179.3 43.5C177.492 49.2575 174.814 51.8684 170.965 51.8684C169.592 51.8684 168.655 51.6341 167.149 51.1655V45.3076C168.287 45.7427 169.191 46.0105 169.894 46.0105C170.764 46.0105 171.768 45.4415 172.571 43.5H169.659Z" fill="white"/>
      <path d="M202.036 36.9537C202.452 36.9537 202.838 36.9537 203.253 36.924V30.7497H209.19V41.3172C206.637 42.2078 204.144 42.4452 201.591 42.4452C194.496 42.4452 190.815 39.18 190.815 31.6105C190.815 24.041 194.496 20.7758 201.264 20.7758C204.144 20.7758 206.043 21.0132 208.596 21.9038V27.3953C206.014 26.5642 204.173 26.2673 202.006 26.2673C198.563 26.2673 196.901 27.6031 196.901 31.6105C196.901 35.6179 199.008 36.9537 202.036 36.9537Z" fill="white"/>
      <path d="M217.515 42H211.875V27.1579H217.515V29.4436C218.346 27.5438 219.712 26.6829 221.433 26.6829C222.739 26.6829 223.808 27.1579 225.174 27.9V33.0947C223.274 32.2932 221.938 31.937 220.483 31.937C219.207 31.937 217.515 32.412 217.515 34.5789V42Z" fill="white"/>
      <path d="M226.794 22.824C226.794 20.7461 228.1 19.8556 230.059 19.8556C232.018 19.8556 233.324 20.7461 233.324 22.824C233.324 24.9019 232.018 25.7924 230.059 25.7924C228.1 25.7924 226.794 24.9019 226.794 22.824ZM227.239 42V27.1579H232.879V42H227.239Z" fill="white"/>
      <path d="M245.496 42V39.6846C244.665 41.6141 243.24 42.4452 241.251 42.4452C237.392 42.4452 235.255 40.1892 235.255 34.5789C235.255 28.9686 237.392 26.7126 241.251 26.7126C243.24 26.7126 244.665 27.5438 245.496 29.4732V19.7368H251.136V42H245.496ZM241.043 34.5789C241.043 36.6568 241.934 37.2505 243.27 37.2505C244.605 37.2505 245.496 36.6568 245.496 34.5789C245.496 32.501 244.605 31.9073 243.27 31.9073C241.934 31.9073 241.043 32.501 241.043 34.5789Z" fill="white"/>
      <defs>
      <filter id="filter0_f_8_21" x="54.1737" y="8.39471" width="218.075" height="53.4737" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
      <feFlood flood-opacity="0" result="BackgroundImageFix"/>
      <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
      <feGaussianBlur stdDeviation="5" result="effect1_foregroundBlur_8_21"/>
      </filter>
      <radialGradient id="paint0_radial_8_21" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(161.037 28.2969) scale(160.557 52.5857)">
      <stop stop-color="#7D24FF"/>
      <stop offset="1" stop-color="#2D1313" stop-opacity="0"/>
      </radialGradient>
      </defs>
    </svg>
  </div>
  <p class="description">Create infinite grid with images - right inside Figma.</p>
  <button class="see-how-btn" id="instruction-btn">‚ñ∂Ô∏è See How to Use the Plugin</button>
  <div class="container">
    <div class="input-group">
      <label>Image URLs *</label>
      <div class="input-row">
        <input type="text" id="image-url-input" placeholder="Enter image URL" />
        <button class="add-btn" id="add-url">+ Add</button>
      </div>
      <div class="tip">üí° Tip: Use Google Drive to create image URLs. <span class="learn-how" id="learn-how">learn how</span></div>
      <div class="url-list" id="url-list"></div>
    </div>
    <div id="infinity-grid-container" class="infinity-grid-container">
      <!-- Images will be rendered here -->
    </div>
    <div class="input-group">
      <label>Background Color *</label>
      <div class="color-row">
        <input type="color" id="bg-color-picker" value="#000000" />
        <input type="text" id="bg-color-hex" value="#000000" maxlength="7" />
      </div>
    </div>
    <div class="input-group">
      <label for="iframe-height">Height (px) *</label>
      <input type="number" id="iframe-height" min="100" max="2000" value="600" style="width: 100%; background: #181818; border: 1px solid #333; color: #fff; border-radius: 8px; padding: 8px 12px; font-size: 1rem; outline: none;width: fit-content" />
    </div>
    <button class="generate-btn" id="generate-btn">Generate Grid</button>
    <div id="iframe-output" style="display:none;">
      <div class="iframe-code-block" id="iframe-code"></div>
      <button class="copy-btn" id="copy-btn">Copy Code</button>
    </div>
  </div>
  <div class="footer">
    <a href="https://www.linkedin.com/in/sudharsan-sarathi/" target="_blank" rel="noopener">A grid of dreams, crafted by Sudharsan ‚ù§Ô∏è</a>
  </div>
  <div class="toast" id="toast">iframe code copied</div>
  <div class="overlay" id="overlay">
    <div class="overlay-content">
      <button class="close-btn" id="close-overlay">√ó</button>
      <div class="overlay-title">How to add the generated iFrame code</div>
      <iframe class="vimeo-player" src="https://player.vimeo.com/video/76979871?h=8272103f6e" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe>
    </div>
  </div>
  <div class="overlay" id="tip-overlay">
    <div class="overlay-content">
      <button class="close-btn" id="close-tip-overlay">√ó</button>
      <div class="overlay-title">How to get a Google Drive image URL</div>
      <iframe class="vimeo-player" src="https://player.vimeo.com/video/76979871?h=8272103f6e" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe>
    </div>
  </div>
<script>
    // State
    let urls = [];
    const urlInput = document.getElementById('image-url-input');
    const addUrlBtn = document.getElementById('add-url');
    const urlList = document.getElementById('url-list');
    const bgColorPicker = document.getElementById('bg-color-picker');
    const bgColorHex = document.getElementById('bg-color-hex');
    const iframeHeight = document.getElementById('iframe-height');
    const generateBtn = document.getElementById('generate-btn');
    const iframeOutput = document.getElementById('iframe-output');
    const iframeCodeBlock = document.getElementById('iframe-code');
    const copyBtn = document.getElementById('copy-btn');
    const toast = document.getElementById('toast');
    const instructionBtn = document.getElementById('instruction-btn');
    const overlay = document.getElementById('overlay');
    const closeOverlay = document.getElementById('close-overlay');
    const tipOverlay = document.getElementById('tip-overlay');
    const closeTipOverlay = document.getElementById('close-tip-overlay');
    const learnHow = document.getElementById('learn-how');

    function renderUrls() {
      urlList.innerHTML = '';
      urls.forEach((url, idx) => {
        const chip = document.createElement('div');
        chip.className = 'url-chip';
        chip.innerHTML = `<span title="${url}">${url}</span><button class="remove-btn" data-idx="${idx}">‚úï</button>`;
        urlList.appendChild(chip);
      });
      // Remove handler
      document.querySelectorAll('.remove-btn').forEach(btn => {
        btn.addEventListener('click', (e) => {
          const idx = parseInt(btn.getAttribute('data-idx'));
          urls.splice(idx, 1);
          renderUrls();
          resetCopyBtn();
        });
      });
      renderInfinityGrid();
    }

    addUrlBtn.onclick = (e) => {
      e.preventDefault();
      const url = urlInput.value.trim();
      if (url && !urls.includes(url)) {
        urls.push(url);
        urlInput.value = '';
        renderUrls();
        resetCopyBtn();
      }
    };

    urlInput.addEventListener('keydown', (e) => {
      if (e.key === 'Enter') {
        addUrlBtn.click();
      }
    });

    // Reset copy button on input changes
    urlInput.addEventListener('input', resetCopyBtn);
    bgColorPicker.addEventListener('input', resetCopyBtn);
    bgColorHex.addEventListener('input', resetCopyBtn);
    iframeHeight.addEventListener('input', resetCopyBtn);

    // Sync color picker and hex input
    bgColorPicker.addEventListener('input', () => {
      bgColorHex.value = bgColorPicker.value;
      resetCopyBtn();
    });
    bgColorHex.addEventListener('input', () => {
      let val = bgColorHex.value;
      if (!val.startsWith('#')) val = '#' + val;
      if (/^#[0-9A-Fa-f]{6}$/.test(val)) {
        bgColorPicker.value = val;
      }
      resetCopyBtn();
    });

    function sanitizeHex(hex) {
      return hex.replace('#', '').substring(0, 6);
    }

    generateBtn.onclick = () => {
      if (urls.length === 0) {
        urlInput.focus();
        urlInput.placeholder = 'At least one image URL is required';
        urlInput.style.border = '1.5px solid #ff6b81';
        setTimeout(() => {
          urlInput.style.border = '';
          urlInput.placeholder = 'Enter image URL';
        }, 1500);
        return;
      }
      const images = encodeURIComponent(urls.join(','));
      const hex = sanitizeHex(bgColorHex.value);
      const height = parseInt(iframeHeight.value) || 600;
      const iframe = `<iframe \n  src=\"https://sudharsansarathi.github.io/infinity-grid/?images=${images}&bg=%23${hex}\" \n  style=\"width:100%;height:${height}px;border:none;background:#181818;\">\n</iframe>`;
      iframeCodeBlock.textContent = iframe;
      iframeOutput.style.display = 'block';
      // Auto-scroll to iframe section
      setTimeout(() => {
        iframeOutput.scrollIntoView({ behavior: 'smooth', block: 'center' });
      }, 100);
      // Send to Figma code.ts (optional, for plugin communication)
      if (parent !== window) {
        parent.postMessage({ pluginMessage: { type: 'generate-iframe', code: iframe } }, '*');
      }
      resetCopyBtn();
    };

    function showToast(msg) {
      toast.textContent = msg;
      toast.classList.add('show');
      setTimeout(() => {
        toast.classList.remove('show');
      }, 1600);
    }

    function resetCopyBtn() {
      copyBtn.innerHTML = 'Copy Code';
      copyBtn.classList.remove('copied');
    }

    copyBtn.onclick = () => {
      navigator.clipboard.writeText(iframeCodeBlock.textContent);
      copyBtn.innerHTML = 'Code Copied ‚úÖ';
      copyBtn.classList.add('copied');
      showToast('iframe code copied');
    };

    // Overlay logic
    instructionBtn.onclick = () => {
      overlay.classList.add('show');
    };
    closeOverlay.onclick = () => {
      overlay.classList.remove('show');
    };
    overlay.addEventListener('click', (e) => {
      if (e.target === overlay) {
        overlay.classList.remove('show');
      }
    });

    // Tip overlay logic
    learnHow.onclick = () => {
      tipOverlay.classList.add('show');
    };
    closeTipOverlay.onclick = () => {
      tipOverlay.classList.remove('show');
    };
    tipOverlay.addEventListener('click', (e) => {
      if (e.target === tipOverlay) {
        tipOverlay.classList.remove('show');
      }
    });

    // Listen for messages from code.ts (optional)
    window.onmessage = (event) => {
      const { type, code } = event.data.pluginMessage || {};
      if (type === 'iframe-code' && code) {
        iframeCodeBlock.textContent = code;
        iframeOutput.style.display = 'block';
        setTimeout(() => {
          iframeOutput.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }, 100);
        resetCopyBtn();
      }
    };

    // Infinity Grid logic
    const gridContainer = document.getElementById('infinity-grid-container');
    function renderInfinityGrid() {
      gridContainer.innerHTML = '';
      if (urls.length === 0) {
        gridContainer.style.display = 'none';
        return;
      }
      gridContainer.style.display = 'grid';
      urls.forEach((url, idx) => {
        const item = document.createElement('div');
        item.className = 'infinity-grid-item';
        const img = document.createElement('img');
        img.src = url;
        img.alt = `Grid image ${idx+1}`;
        item.appendChild(img);
        // Focus/hover scaling
        item.addEventListener('mouseenter', () => {
          gridContainer.classList.add('scaling');
          item.classList.add('focused');
        });
        item.addEventListener('mouseleave', () => {
          gridContainer.classList.remove('scaling');
          item.classList.remove('focused');
        });
        item.addEventListener('focus', () => {
          gridContainer.classList.add('scaling');
          item.classList.add('focused');
        });
        item.addEventListener('blur', () => {
          gridContainer.classList.remove('scaling');
          item.classList.remove('focused');
        });
        gridContainer.appendChild(item);
      });
    }

    // Drag-to-scroll for grid
    let isDragging = false, startX, startY, scrollLeft, scrollTop;
    gridContainer.addEventListener('pointerdown', (e) => {
      isDragging = true;
      gridContainer.setPointerCapture(e.pointerId);
      startX = e.clientX;
      startY = e.clientY;
      scrollLeft = gridContainer.scrollLeft;
      scrollTop = gridContainer.scrollTop;
      gridContainer.style.cursor = 'grabbing';
    });
    gridContainer.addEventListener('pointermove', (e) => {
      if (!isDragging) return;
      const dx = e.clientX - startX;
      const dy = e.clientY - startY;
      gridContainer.scrollLeft = scrollLeft - dx;
      gridContainer.scrollTop = scrollTop - dy;
    });
    gridContainer.addEventListener('pointerup', (e) => {
      isDragging = false;
      gridContainer.releasePointerCapture(e.pointerId);
      gridContainer.style.cursor = 'grab';
    });
    gridContainer.addEventListener('pointerleave', (e) => {
      isDragging = false;
      gridContainer.style.cursor = 'grab';
    });
</script>
</body>
</html> 